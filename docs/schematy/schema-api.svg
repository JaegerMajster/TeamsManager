<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 1200" style="background:#f8fafc;">
  <!-- Title -->
  <text x="800" y="30" font-family="Segoe UI, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#1e293b">📡 Schema API - Endpointy TeamsManager</text>
  <text x="800" y="55" font-family="Segoe UI, sans-serif" font-size="14" text-anchor="middle" fill="#64748b">19 kontrolerów • REST API • OAuth2 • .NET 9.0 • Swagger/OpenAPI</text>
  
  <!-- Authentication Header -->
  <rect x="50" y="80" width="1500" height="50" fill="#0ea5e9" rx="8"/>
  <text x="800" y="100" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">🔐 Uwierzytelnianie: Bearer Token (OAuth2 OBO Flow)</text>
  <text x="800" y="118" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle" fill="#e0f2fe">Authorization: Bearer {access_token} | Publiczne endpointy oznaczone 🌐</text>
  
  <!-- API Groups -->
  <!-- CRUD Controllers Group -->
  <rect x="50" y="150" width="480" height="380" fill="#f1f5f9" stroke="#cbd5e1" rx="8"/>
  <text x="60" y="175" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#0f172a">👥 KONTROLERY CRUD</text>
  
  <!-- Users Controller -->
  <rect x="60" y="185" width="460" height="90" fill="white" stroke="#e2e8f0" rx="6"/>
  <text x="70" y="205" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#374151">Users Controller</text>
  <text x="70" y="220" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/Users</text>
  <text x="70" y="235" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/Users/{id}</text>
  <text x="70" y="250" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/v1.0/Users</text>
  <text x="70" y="265" font-family="Consolas, monospace" font-size="11" fill="#f59e0b">PUT /api/v1.0/Users/{id}</text>
  
  <!-- Teams Controller -->
  <rect x="60" y="285" width="460" height="80" fill="white" stroke="#e2e8f0" rx="6"/>
  <text x="70" y="305" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#374151">Teams Controller</text>
  <text x="70" y="320" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/Teams</text>
  <text x="70" y="335" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/v1.0/Teams</text>
  <text x="70" y="350" font-family="Consolas, monospace" font-size="11" fill="#f59e0b">PUT /api/v1.0/Teams/{id}</text>
  
  <!-- Departments Controller -->
  <rect x="60" y="375" width="460" height="80" fill="white" stroke="#e2e8f0" rx="6"/>
  <text x="70" y="395" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#374151">Departments Controller</text>
  <text x="70" y="410" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/Departments</text>
  <text x="70" y="425" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/v1.0/Departments</text>
  <text x="70" y="440" font-family="Consolas, monospace" font-size="11" fill="#f59e0b">PUT /api/v1.0/Departments/{id}</text>
  
  <!-- Additional Controllers -->
  <rect x="60" y="465" width="460" height="55" fill="white" stroke="#e2e8f0" rx="6"/>
  <text x="70" y="485" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#374151">Pozostałe CRUD</text>
  <text x="70" y="500" font-family="Consolas, monospace" font-size="11" fill="#6b7280">SchoolTypes, SchoolYears, Subjects, Channels</text>
  <text x="70" y="515" font-family="Consolas, monospace" font-size="11" fill="#6b7280">TeamTemplates, ApplicationSettings</text>
  
  <!-- Orchestra Controllers Group -->
  <rect x="550" y="150" width="500" height="380" fill="#f0f9ff" stroke="#0284c7" rx="8"/>
  <text x="560" y="175" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#0f172a">⚡ ORKIESTRATORZY PROCESÓW</text>
  
  <!-- SchoolYear Process -->
  <rect x="560" y="185" width="480" height="80" fill="white" stroke="#0284c7" rx="6"/>
  <text x="570" y="205" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#0369a1">SchoolYearProcess Orchestrator</text>
  <text x="570" y="220" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/SchoolYearProcess/create-teams</text>
  <text x="570" y="235" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/SchoolYearProcess/archive-teams</text>
  <text x="570" y="250" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/SchoolYearProcess/status</text>
  
  <!-- Team Lifecycle -->
  <rect x="560" y="275" width="480" height="80" fill="white" stroke="#0284c7" rx="6"/>
  <text x="570" y="295" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#0369a1">TeamLifecycle Orchestrator</text>
  <text x="570" y="310" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/TeamLifecycle/archive-bulk</text>
  <text x="570" y="325" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/TeamLifecycle/restore-bulk</text>
  <text x="570" y="340" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/TeamLifecycle/consolidate</text>
  
  <!-- Bulk User Management -->
  <rect x="560" y="365" width="480" height="80" fill="white" stroke="#0284c7" rx="6"/>
  <text x="570" y="385" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#0369a1">BulkUserManagement Orchestrator</text>
  <text x="570" y="400" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/BulkUserManagement/bulk-onboarding</text>
  <text x="570" y="415" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/BulkUserManagement/bulk-offboarding</text>
  <text x="570" y="430" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/BulkUserManagement/bulk-role-change</text>
  
  <!-- Additional Orchestrators -->
  <rect x="560" y="455" width="480" height="65" fill="white" stroke="#0284c7" rx="6"/>
  <text x="570" y="475" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#0369a1">Pozostałe Orkiestratorzy</text>
  <text x="570" y="490" font-family="Consolas, monospace" font-size="11" fill="#6b7280">HealthMonitoring, Reporting</text>
  <text x="570" y="505" font-family="Consolas, monospace" font-size="11" fill="#6b7280">PowerShell Operations</text>
  
  <!-- Utility Controllers Group -->
  <rect x="1070" y="150" width="480" height="380" fill="#fef7f0" stroke="#f59e0b" rx="8"/>
  <text x="1080" y="175" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#0f172a">🛠️ NARZĘDZIA I DIAGNOSTYKA</text>
  
  <!-- Test Auth -->
  <rect x="1080" y="185" width="460" height="70" fill="white" stroke="#f59e0b" rx="6"/>
  <text x="1090" y="205" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#92400e">TestAuth Controller</text>
  <text x="1090" y="220" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/TestAuth/whoami</text>
  <text x="1090" y="235" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/TestAuth/claims 🌐</text>
  <text x="1090" y="250" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/TestAuth/public 🌐</text>
  
  <!-- Diagnostics -->
  <rect x="1080" y="265" width="460" height="80" fill="white" stroke="#f59e0b" rx="6"/>
  <text x="1090" y="285" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#92400e">Diagnostics Controller</text>
  <text x="1090" y="300" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/Diagnostics/dependency-injection 🌐</text>
  <text x="1090" y="315" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/Diagnostics/system-status 🌐</text>
  <text x="1090" y="330" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/Diagnostics/test-flow 🌐</text>
  
  <!-- Data Import -->
  <rect x="1080" y="355" width="460" height="70" fill="white" stroke="#f59e0b" rx="6"/>
  <text x="1090" y="375" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#92400e">DataImport Controller</text>
  <text x="1090" y="390" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/DataImport/import-csv</text>
  <text x="1090" y="405" font-family="Consolas, monospace" font-size="11" fill="#dc2626">POST /api/DataImport/import-excel</text>
  
  <!-- Operation Histories -->
  <rect x="1080" y="435" width="460" height="85" fill="white" stroke="#f59e0b" rx="6"/>
  <text x="1090" y="455" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#92400e">OperationHistories Controller</text>
  <text x="1090" y="470" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/OperationHistories</text>
  <text x="1090" y="485" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/OperationHistories/{id}</text>
  <text x="1090" y="500" font-family="Consolas, monospace" font-size="11" fill="#059669">GET /api/v1.0/OperationHistories/export</text>
  
  <!-- Request/Response Structures -->
  <rect x="50" y="550" width="1500" height="300" fill="#f8fafc" stroke="#cbd5e1" rx="8"/>
  <text x="60" y="575" font-family="Segoe UI, sans-serif" font-size="16" font-weight="bold" fill="#0f172a">📋 STRUKTURY ŻĄDAŃ I ODPOWIEDZI</text>
  
  <!-- Common Request Structure -->
  <rect x="60" y="590" width="460" height="120" fill="white" stroke="#e2e8f0" rx="6"/>
  <text x="70" y="610" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#374151">Standardowe Żądanie (POST/PUT)</text>
  <text x="70" y="630" font-family="Consolas, monospace" font-size="11" fill="#059669">{</text>
  <text x="80" y="645" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"data": { /* object */ },</text>
  <text x="80" y="660" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"metadata": { /* optional */ },</text>
  <text x="80" y="675" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"validation": { /* rules */ }</text>
  <text x="70" y="690" font-family="Consolas, monospace" font-size="11" fill="#059669">}</text>
  
  <!-- Common Response Structure -->
  <rect x="540" y="590" width="460" height="120" fill="white" stroke="#e2e8f0" rx="6"/>
  <text x="550" y="610" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#374151">Standardowa Odpowiedź</text>
  <text x="550" y="630" font-family="Consolas, monospace" font-size="11" fill="#059669">{</text>
  <text x="560" y="645" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"success": boolean,</text>
  <text x="560" y="660" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"data": { /* result */ },</text>
  <text x="560" y="675" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"errors": [ /* validation errors */ ]</text>
  <text x="550" y="690" font-family="Consolas, monospace" font-size="11" fill="#059669">}</text>
  
  <!-- Bulk Operation Structure -->
  <rect x="1020" y="590" width="460" height="120" fill="white" stroke="#0284c7" rx="6"/>
  <text x="1030" y="610" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#0369a1">Operacje Masowe (Orkiestratorzy)</text>
  <text x="1030" y="630" font-family="Consolas, monospace" font-size="11" fill="#059669">{</text>
  <text x="1040" y="645" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"processId": "guid",</text>
  <text x="1040" y="660" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"status": "InProgress|Completed|Failed",</text>
  <text x="1040" y="675" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"progress": { "total": int, "completed": int }</text>
  <text x="1030" y="690" font-family="Consolas, monospace" font-size="11" fill="#059669">}</text>
  
  <!-- Error Handling -->
  <rect x="60" y="730" width="460" height="110" fill="#fef2f2" stroke="#dc2626" rx="6"/>
  <text x="70" y="750" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#991b1b">❌ Kody Błędów HTTP</text>
  <text x="70" y="770" font-family="Consolas, monospace" font-size="11" fill="#dc2626">400 - Bad Request (walidacja)</text>
  <text x="70" y="785" font-family="Consolas, monospace" font-size="11" fill="#dc2626">401 - Unauthorized (brak tokenu)</text>
  <text x="70" y="800" font-family="Consolas, monospace" font-size="11" fill="#dc2626">403 - Forbidden (brak uprawnień)</text>
  <text x="70" y="815" font-family="Consolas, monospace" font-size="11" fill="#dc2626">404 - Not Found</text>
  <text x="70" y="830" font-family="Consolas, monospace" font-size="11" fill="#dc2626">500 - Internal Server Error</text>
  
  <!-- Pagination -->
  <rect x="540" y="730" width="460" height="110" fill="#f0fdf4" stroke="#22c55e" rx="6"/>
  <text x="550" y="750" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#15803d">📄 Paginacja (GET)</text>
  <text x="550" y="770" font-family="Consolas, monospace" font-size="11" fill="#059669">?page=1&amp;pageSize=20</text>
  <text x="550" y="785" font-family="Consolas, monospace" font-size="11" fill="#059669">?search=query&amp;sort=field</text>
  <text x="550" y="800" font-family="Consolas, monospace" font-size="11" fill="#059669">?filter[status]=active</text>
  <text x="550" y="815" font-family="Consolas, monospace" font-size="11" fill="#6b7280">Response: { "data": [], "total": int,</text>
  <text x="550" y="830" font-family="Consolas, monospace" font-size="11" fill="#6b7280">"page": int, "hasNext": bool }</text>
  
  <!-- API Versioning -->
  <rect x="1020" y="730" width="460" height="110" fill="#f5f3ff" stroke="#8b5cf6" rx="6"/>
  <text x="1030" y="750" font-family="Segoe UI, sans-serif" font-size="14" font-weight="bold" fill="#7c3aed">🔄 Wersjonowanie API</text>
  <text x="1030" y="770" font-family="Consolas, monospace" font-size="11" fill="#8b5cf6">URL: /api/v1.0/endpoint (default)</text>
  <text x="1030" y="785" font-family="Consolas, monospace" font-size="11" fill="#8b5cf6">Header: X-Version: 1.0</text>
  <text x="1030" y="800" font-family="Consolas, monospace" font-size="11" fill="#8b5cf6">Query: ?version=1.0</text>
  <text x="1030" y="815" font-family="Consolas, monospace" font-size="11" fill="#6b7280">Dostępne: v1.0 (current), v2.0 (future)</text>
  <text x="1030" y="830" font-family="Consolas, monospace" font-size="11" fill="#6b7280">OpenAPI: /swagger/v1/swagger.json</text>
  
  <!-- Footer -->
  <text x="800" y="890" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle" fill="#64748b">🌍 Base URL: https://localhost:7037 (HTTPS) | http://localhost:5182 (HTTP)</text>
  <text x="800" y="910" font-family="Segoe UI, sans-serif" font-size="12" text-anchor="middle" fill="#64748b">📚 Dokumentacja: /swagger | Wygenerowano: 08 czerwca 2025, 15:07</text>
</svg> 